<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peony</title>
    <link rel="stylesheet" th:href="@{/bootstrap/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/home.css}">
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/bootstrap/bootstrap.min.js}"></script>
</head>
<body>
    <nav class="navbar">
        <div class="container-fluid main-container">
            <a class="navbar-brand" href="/">Peony</a>
            <div class="d-flex align-items-center gap-3">
                <div th:if="${session.user != null}" class="d-flex align-items-center gap-3">
                    <span class="text-muted me-3" th:text="|${session.user.name}님, 환영합니다!|">
                    </span>
                    <a class="nav-link" th:href="@{/user/mypage}">
                        마이페이지
                    </a>
                    <div th:if="${session.user.userType == 'admin'}">
                        <a class="nav-link" th:href="@{/user/list}">
                            회원 목록
                        </a>
                    </div>
                    <a class="nav-link" th:href="@{/logout}">
                        로그아웃
                    </a>
                </div>
                <div th:if="${session.user == null}">
                    <a class="nav-link" th:href="@{/login}">
                        로그인
                    </a>
                    <a class="nav-link" th:href="@{/user/register}">
                        회원가입
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container main-container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div class="card-header text-center">
                        <h1 style="font-size: 2.5rem; font-weight: bold;">
                            멀티서비스 포털
                        </h1>
                        <p style="margin: 1rem 0 0 0; opacity: 0.9; font-size: 1.1rem;">
                            게시판, 쇼핑몰, 게임을 한 번에 경험하세요
                        </p>
                    </div>

                    <div class="card-body">
                    	<div class="row g-4 mb-4">
				            <div class="col-12">
				                <div class="stats-widget">
				                    <div class="stats-container">
				                        <div class="stats-text">👥 총 가입자 <span th:text="${totalUsers}">0</span>명</div>
				                        <div class="stats-text">📈 금일 가입자 <span th:text="${todayUsers}">0</span>명</div>
				                    </div>
				                </div>
				            </div>
				        </div>
                        <div th:if="${session.user != null}">
                            <div class="row g-4 mb-5">
                                <div class="col-md-4">
                                    <div class="service-card">
                                        <div class="service-icon">📝</div>
                                        <h4>게시판</h4>
                                        <p>다양한 주제로 소통하고<br> 정보를 공유하세요</p>
                                        <button class="btn btn-primary">
                                            바로가기
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="service-card">
                                        <div class="service-icon">🛒</div>
                                        <h4>쇼핑몰</h4>
                                        <p>필요한 상품을<br> 편리하게 구매하세요</p>
                                        <button class="btn btn-primary">
                                            바로가기
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="service-card">
                                        <div class="service-icon">🎮</div>
                                        <h4>게임</h4>
                                        <p>재미있는 게임으로<br> 즐거운 시간을 보내세요</p>
                                        <button class="btn btn-primary">
                                            바로가기
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${session.user == null}">
                            <div class="text-center">
                                <div class="welcome-section mb-5">
                                    <h2 style="color: var(--gray-800); margin-bottom: 1rem;">
                                        서비스를 이용하려면 로그인하세요
                                    </h2>
                                    <p class="text-muted">
                                        로그인하여 다양한 서비스를 경험해보세요
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script th:src="@{/js/home.js}"></script>
</html>